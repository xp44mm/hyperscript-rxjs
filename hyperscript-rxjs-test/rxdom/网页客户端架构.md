# 网页客户端架构

网页客户端程序分为三部分。

View部分，是界面元素，用react创造出所有可能的界面。

视图模型(ViewModel)，与具体显示无关的，为视图提供要显示的数据。可用到的技术包括成员冗余，成员组合，单继承，多重继承，动态向类实例添加新成员。下文提到的类内部的绑定，也包括在视图模型中，如，圆的直径和半径的关系，可以包含在视图模型中。

成员冗余：为保持类的独立性，在类中添加不需要显示的冗余成员。比如，父亲姓什么，子女就姓什么，所以子女的姓不需要显示，但是，有了姓字段，子女的姓名合成就简单了，无需关心姓是从哪里来的。建模时，每个子女都多保存一个冗余的姓，并将父亲的姓与每个孩子的姓链接。

成员组合，比如，一个人，由手，眼，口，组成。

继承是为了少一级名字嵌套，比如人，雇员，如果用组合也可以，但是不自然，`Employee.person.birthday`就不如`Employee.birthday`。

动态添加成员，为了减少嵌套层次，避免过度的使用类继承。在根对象动态添加类实例的成员，更清晰。

多重继承，用于类的父类成员名字不重复，没有必要引入多一层组合。比如，干空气，添加水分，为湿空气，再添加二氧化碳为烟气，没有水分的烟气是干烟气。多重继承实际上是链式的单继承。

视图和视图模型一起建立，测试后进行数据关联，叫绑定。

绑定(binding)部分，数据之间会有关联和依赖关系，需要建立这种关系，在类内部的绑定，或者说，建立绑定，而无需引入新依赖的绑定，可以直接建立到视图模型中。类之间的绑定，应单独建立绑定文件。避免紧密耦合。

绑定不增加成员变量，写在ViewModel中

绑定需要访问多个类，同层次的或不同层次的，写在binding中，简单的也可以直接写在根对象中

同类型，不同实例之间相互依赖？

- 只读成员

- 类实例存在之后

- 依赖成员存在之后

- 互相依赖成员都存在之后

